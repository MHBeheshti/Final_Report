% !TEX TS-program = XeLaTeX
% Commands for running this example:
% 	 xelatex Vahid-Proposal
% 	 xelatex Vahid-Proposal
% End of Commands

%%%  نمونه یک پروپوزال کارشناسی ارشد

% توجه داشته باشید برای دیدن خروجی کامل شامل نمایه و فهرست مطالب در ویرایشگر Texmaker، ابتدا دو بار 
% کلید F1 و بعد کلید F12 و دوباره کلید F1 و در آخر کلید F7 را فشار دهید.
%توضیحات مربوط به هر بسته یا دستور را می‌توانید در خط بالای آن ببینید.

\documentclass[12pt,a4paper,oneside]{book}
\usepackage[top=40mm, bottom=40mm, left=25mm, right=35mm]{geometry}
\usepackage{fancyhdr}
%در ورژن جدید زی‌پرشین برای تایپ متن‌های ریاضی، این سه بسته، حتماً باید فراخوانی شود
\usepackage{amsthm,amssymb}
\usepackage{ragged2e}
\usepackage[table]{xcolor}% http://ctan.org/pkg/xcolor
\usepackage{float}
%دستوری برای وارد کردن واژه‌نامه انگلیسی به فارسی
\newcommand\persiangloss[2]{#1\dotfill\lr{#2}\\}
%بسته‌ای برای تنطیم حاشیه‌های بالا، پایین، چپ و راست صفحه
%\usepackage[top=50mm, bottom=50mm, left=50mm, right=50mm]{geometry}
%بسته‌ای برای نمایش تصاویر قرار داده شده در متن
\usepackage{graphicx}
\usepackage{standalone}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage[ruled]{algorithm}
\usepackage{algorithmic}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepackage{standalone}
\usepackage{caption}
\usepackage{subcaption}
% بسته‌ و دستوراتی برای ایجاد لینک‌های رنگی با امکان جهش
\usepackage[pagebackref=false,colorlinks,linkcolor=blue,citecolor=blue]{hyperref}
% چنانچه قصد پرینت گرفتن نوشته خود را دارید، خط بالا را غیرفعال و  از دستور زیر استفاده کنید چون در صورت استفاده از دستور زیر‌‌، 
% لینک‌ها به رنگ سیاه ظاهر خواهند شد و برای پرینت گرفتن، مناسب‌تر خواهد بود
%\usepackage[pagebackref=false]{hyperref}
%بسته‌ای برای ظاهر شدن «مراجع» و «نمایه» در فهرست مطالب
\usepackage{tocbibind}
\usepackage{notoccite}
%دستورات زیر جهت هماهنگ شده با قالب دانشگاه علم و صنعت اضافه شده است.
\usepackage[fleqn]{amsmath}
\usepackage{titlesec}
%%%%%%%%%%%%%%
%فراخوانی بسته زی‌پرشین و دستورات مربوط به نوع فونت‌ها
\usepackage{fontspec}
\usepackage{xepersian}
\settextfont[Path = ./fonts/,Scale=1]{XB Niloofar}
% از revision 118 زی‌پرشین به بعد، وارد کردن دستور زیر لازم نیست. توجه داشته باشید که در صورت  غیرفعال کردن این دستور،
% از فونت پیش‌فرض لاتک برای کلمات انگلیسی استفاده خواهد شد.
%\setlatintextfont[ExternalLocation,BoldFont={lmroman10-bold},BoldItalicFont={lmroman10-bolditalic},ItalicFont={lmroman10-italic}]{lmroman10-regular}
% چنانچه می‌خواهید که اعداد در فرمول‌ها، فارسی باشد، دستور زیر را فعال کنید
%\setdigitfont{XB Zar}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% تعریف قلم‌های فارسی و انگلیسی برای استفاده در بعضی از قسمت‌های متن
\defpersianfont\titr[Path = ./fonts/,Scale=1]{XB Titre}
\defpersianfont\nastaliq[Path = ./fonts/,Scale=1.5]{XB Niloofar}
%\defpersianfont\traffic[Scale=1]{B Traffic}
%\defpersianfont\yekan[Scale=1]{B Yekan}
%اگر فونت‌های بالا را ندارید، دو خط بالا را غیر فعال و دو خط زیر را فعال کنید
\defpersianfont\traffic[Path = ./fonts/,Scale=1]{XB Roya}
\defpersianfont\yekan[Path = ./fonts/,Scale=1]{XB Kayhan}
%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}


\theoremstyle{definition}
\newtheorem{definition}{تعریف}
\newtheorem{theorem}{قضیه}
\newtheorem{lemma}{لم}
\newtheorem{proposition}{گزاره}
\newtheorem{corollary}{نتیجه}
\newtheorem{remark}{ملاحظه}
\theoremstyle{definition}
\newtheorem{example}{مثال}
%%%%%%%%%%%%%%%%%%


\pagestyle{fancy}
\fancyhf{}

\fancyhead[LE,LO]{\nouppercase{\leftmark}}
\fancyfoot[C]{\thepage}

\renewcommand\headrulewidth{1.5pt}
\makeatletter
\def\headrule{{\if@fancyplain\let\headrulewidth\plainheadrulewidth\fi
\hrule\@height\headrulewidth\@width\headwidth
\vskip 2pt% 2pt between lines
\hrule\@height.5pt\@width\headwidth% lower line with .5pt line width
\vskip-\headrulewidth
\vskip-1.5pt}}
\makeatother

%%%%%%%%%%%%%%%%%%
\SepMark{-}
%%%%%%%%%
% Custom chapter command for separate title pages
\makeatletter
\renewcommand\chapter{%
  \if@openright\cleardoublepage\else\clearpage\fi
  \thispagestyle{empty}%
  \global\@topnum\z@
  \@afterindentfalse
  \secdef\@chapter\@schapter}

\def\@chapter[#1]#2{%
  \ifnum \c@secnumdepth >\m@ne
    \if@mainmatter
      \refstepcounter{chapter}%
      \typeout{\@chapapp\space\thechapter.}%
      \addcontentsline{toc}{chapter}%
                       {\protect\numberline{\thechapter}#1}%
    \else
      \addcontentsline{toc}{chapter}{#1}%
    \fi
  \else
    \addcontentsline{toc}{chapter}{#1}%
  \fi
  % Title page
  \null\vfill
  \begin{center}
    \fontsize{60pt}{64pt}\selectfont\bfseries\@chapapp\space\thechapter\\[50pt]
    \fontsize{32pt}{36pt}\selectfont\bfseries #2
  \end{center}
  \vfill\null
  \clearpage
  % Start content on next page
  \@afterheading}

\def\@schapter#1{%
  \@mkboth{\MakeUppercase{#1}}{\MakeUppercase{#1}}%
  \addcontentsline{toc}{chapter}{#1}%
  % Title page for unnumbered chapters
  \null\vfill
  \begin{center}
    \fontsize{32pt}{36pt}\selectfont\bfseries #1
  \end{center}
  \vfill\null
  \clearpage
  \@afterheading}
\makeatother
%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%% HB %%%%%%%%%%%%%%%%
\usepackage{bm}
\usepackage[font=scriptsize,labelfont=bf]{caption}
\usepackage{perpage}
 \MakePerPage{footnote}
%%%%%%%%%%%%%% HB %%%%%%%%%%%%%%%%
\def\C{ \mathbb{C}}
\def\R{\mathbb{R}}
\def\Z{ \mathbb{Z}}
\def\N{ \mathbb{N}}

%%%%%%%%%%%%%%%%

\begin{document}
\include{FirstPage}
\pagenumbering{harfi}
\include{Abstract}
\newpage
%دستوری برای ظاهر شدن فهرست مطالب
\tableofcontents
\newpage
\listoffigures

\baselineskip=1cm
\newpage 
\pagenumbering{arabic}
\include{chapter1}
\include{chapter2}
\include{chapter3}
\include{chapter4}

%دستوراتی برای به حالت عادی در آمدن اندازه فونت‌ها و فاصله بین خطوط
\normalsize
%ایجاد «مراجع»
\bibliographystyle{ieeetr-fa}
\bibliography{MHBReference}

\include{LastPage}
\end{document} 
